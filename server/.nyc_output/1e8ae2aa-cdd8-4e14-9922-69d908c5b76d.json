{"/Users/christianaman/Documents/Projects/mini-chat/server/src/ChatServer.ts":{"path":"/Users/christianaman/Documents/Projects/mini-chat/server/src/ChatServer.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":37}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":30}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":30}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":53}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":53}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":26}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":22}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":40}},"10":{"start":{"line":18,"column":8},"end":{"line":20,"column":11}},"11":{"start":{"line":19,"column":12},"end":{"line":19,"column":63}},"12":{"start":{"line":21,"column":8},"end":{"line":26,"column":11}},"13":{"start":{"line":22,"column":12},"end":{"line":22,"column":44}},"14":{"start":{"line":23,"column":12},"end":{"line":25,"column":15}},"15":{"start":{"line":24,"column":16},"end":{"line":24,"column":49}},"16":{"start":{"line":29,"column":8},"end":{"line":29,"column":25}},"17":{"start":{"line":32,"column":0},"end":{"line":32,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":13,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":17},"end":{"line":16,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":13},"end":{"line":27,"column":5}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":18,"column":38},"end":{"line":18,"column":39}},"loc":{"start":{"line":18,"column":44},"end":{"line":20,"column":9}},"line":18},"4":{"name":"(anonymous_4)","decl":{"start":{"line":21,"column":33},"end":{"line":21,"column":34}},"loc":{"start":{"line":21,"column":45},"end":{"line":26,"column":9}},"line":21},"5":{"name":"(anonymous_5)","decl":{"start":{"line":23,"column":36},"end":{"line":23,"column":37}},"loc":{"start":{"line":23,"column":42},"end":{"line":25,"column":13}},"line":23},"6":{"name":"(anonymous_6)","decl":{"start":{"line":28,"column":4},"end":{"line":28,"column":5}},"loc":{"start":{"line":28,"column":14},"end":{"line":30,"column":5}},"line":28}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":20},"end":{"line":9,"column":52}},"type":"binary-expr","locations":[{"start":{"line":9,"column":20},"end":{"line":9,"column":44}},{"start":{"line":9,"column":48},"end":{"line":9,"column":52}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":1,"17":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/Users/christianaman/Documents/Projects/mini-chat/server/src/ChatServer.ts","sources":["/Users/christianaman/Documents/Projects/mini-chat/server/src/ChatServer.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,sCAAsC;AAGtC,+BAA4C;AAE5C,MAAa,UAAU;IAOrB;QACE,IAAI,CAAC,IAAI,GAAG,OAAO,EAAE,CAAC;QACtB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC;QAC7C,IAAI,CAAC,MAAM,GAAG,mBAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACtC,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,UAAU;QAChB,IAAI,CAAC,EAAE,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAEO,MAAM;QACZ,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE;YACjC,OAAO,CAAC,GAAG,CAAC,0BAA0B,IAAI,CAAC,IAAI,EAAE,CAAC,CAAC;QACrD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,EAAE,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,MAAW,EAAE,EAAE;YACvC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAChC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE;gBAC3B,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI,GAAG;QACL,OAAO,IAAI,CAAC,IAAI,CAAC;IACnB,CAAC;CACF;AAnCD,gCAmCC","sourcesContent":["import * as express from \"express\";\nimport * as socketIo from \"socket.io\";\nimport { CONNECTED, DISCONNECTED, MESSAGE } from \"./constants\";\nimport { ChatMessage } from \"./types\";\nimport { createServer, Server } from \"http\";\n\nexport class ChatServer {\n  private static readonly PORT: number;\n  private _app: express.Application;\n  private server: Server;\n  private io: SocketIO.Server;\n  private port: number;\n\n  constructor() {\n    this._app = express();\n    this.port = Number(process.env.PORT) || 5000;\n    this.server = createServer(this._app);\n    this.initSocket();\n    this.listen();\n  }\n\n  private initSocket(): void {\n    this.io = socketIo(this.server);\n  }\n\n  private listen(): void {\n    this.server.listen(this.port, () => {\n      console.log(`Server running on port ${this.port}`);\n    });\n\n    this.io.on(\"connection\", (socket: any) => {\n      console.log(\"a user connected\");\n      socket.on(\"disconnect\", () => {\n        console.log(\"User disconnected\");\n      });\n    });\n  }\n\n  get app(): express.Application {\n    return this._app;\n  }\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"73b4dd0ab76c01e9dc061ed0710740583b59d6e6"}}